# Kickback
[![license](https://img.shields.io/badge/license-apache%202.0-green.svg)](https://www.apache.org/licenses/LICENSE-2.0.html)
[![Build Status](https://travis-ci.org/skydoves/Kickback.svg?branch=master)](https://travis-ci.org/skydoves/Kickback) </br>
This Android library helps to manage static data more structurally by Kickback processor.

## Including in your project
#### build.gradle
```java
dependencies {
    implementation 'com.github.skydoves:kickback:1.0.3'
    annotationProcessor 'com.github.skydoves:kickback-processor:1.0.3'
}
```

## Usage
Create an abstract class with @KickbackBox annotation. <br>
@Kickback annotation does the role of an entity of static objects.

```java
@KickbackBox(name = "Profile")
public abstract class UserProfile {
    final int visits = 1;

    @KickbackElement(name = "name")
    final String userName = "skydoves";

    @Weak
    @KickbackElement(name = "password")
    final int userPassword = 1234;

    @Weak
    @KickbackElement(name = "secondPassword")
    final int userSecondPassword = 12345;

    @Soft
    @KickbackElement(name = "dog")
    Dog userDog;

    @Soft
    UserPrivates userPrivates;
}
```
@KickbackElement annotation renames the object's name on your taste.<br>
If not annotated, the default name of the element variable will be field name.<br>
@Weak and @Soft annotation make an instance of a field to reference object.<br>
And you can boxing not only primitive type but also POJO objects.<br><br>

After builds your project, Kickback_(box name) class will be auto-generated by Kickback processor.<br>
Then you can get instance of new generated class like below.<br>
```java
Kickback_Profile box_profile = Kickback_Profile.getInstance();
```
Then we can put, take out or free at memory into our new generated box class.
```java
Kickback_Profile box_profile = Kickback_Profile.getInstance();
box_profile.setPassword(4321);
box_profile.setDog(new Dog("Akita", 4, "White")); // set "Dog" object element
box_profile.getName(); // get value of "Name" element
box_profile.freeVisits() // free "Visit" element
Kickback_Profile.freeAll(); // free all elements
Kickback_Profile.getBoxName(); // get box name
```

### Function
@KickbackFunction annotation processes getter and setter functions.<br>
@KickbackFunction's "keyname" value determines a target. The target should be a keyName.<br>
Function's name should start with "set" or "get" prefix.<br> 

```java
@KickbackFunction(keyname = "name")
public String setNameFunction(String userName) {
    return userName + "!!!";
}

@KickbackFunction(keyname = "name")
public String getNameFunction(String userName) {
    return "Hello" + userName;
}
```

### Use in Android
Sometimes we must invoke intent with extra data for passing data to next Activity. <br>
In this case, we do not have to implement Parcerable object and __putExtra___ and __getExtras__.<br>

```java
@KickbackBox(name = "SecondActivityExtra")
public class SecondActivityExtrasBox {
    @KickbackElement(name = "name")
    final String userName = "skydoves";

    @Weak
    @KickbackElement(name = "password")
    final int userPassword = 0;

    @KickbackFunction(keyname = "name")
    public String setNameFunction(String userName) {
        return userName + "!!!";
    }

    @KickbackFunction(keyname = "name")
    public String getNameFunction(String userName) {
        return "Hello" + userName;
    }
}
```
After using data at next Activity, you can remove data from memory __onDestroy__

```java
public class SecondActivity extends AppCompatActivity {

    Kickback_SecondActivityExtra box = Kickback_SecondActivityExtra.getInstance();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_second);

        Toast.makeText(this, box.getName() + " :" + box.getPassword(), Toast.LENGTH_SHORT).show();
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        Kickback_SecondActivityExtra.freeAll(); // free all elements from memory
    }
}
```

In Android project, we can set LifecycleObserver and get LifecycleObserver from box class.<br>
Using by these methods, we can more prevent our project from OOM.
```java
kickback_profile.setLifecycleObserver(LifecycleOwner lifecycleOwner)
kickback_profile.getLifecycleObserver()
```

# License
```xml
Copyright 2017 skydoves

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```
